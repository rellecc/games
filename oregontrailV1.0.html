<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>OREGON TRAIL</title>
<style>
  body {
    background: black;
    color: white;
    font-family: "Courier New", monospace;
    white-space: pre;
    padding: 20px;
  }
  input { width: 120px; background: black; color: white; border: 1px solid white; }
  button { background: black; color: white; border: 1px solid white; margin-top: 5px; }
  #log { margin-top: 10px; }
</style>
</head>
<body>
<h1>OREGON TRAIL</h1>
<div id="game"></div>
<div id="controls"></div>

<script>
const gameDiv = document.getElementById('game');
const controlsDiv = document.getElementById('controls');

let state = {
  day: 1,
  monthIndex: 0,
  months: ["MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER"],
  distance: 0,
  party: [],
  supplies: { food: 500, ammo: 100, parts: 3, clothes: 5 },
  log: ""
};

// Utility
function randomInt(min,max){ return Math.floor(Math.random()*(max-min+1)+min); }

// Start Game: Enter Names
function startGame(){
  state.party = [];
  controlsDiv.innerHTML = "";
  gameDiv.innerText = "WELCOME TO OREGON TRAIL!\n\nENTER NAMES OF 5 PARTY MEMBERS:";
  for(let i=0;i<5;i++){
    let inp = document.createElement("input");
    inp.placeholder = `MEMBER ${i+1}`;
    inp.id = "member"+i;
    controlsDiv.appendChild(inp);
    controlsDiv.appendChild(document.createElement("br"));
  }
  let btn = document.createElement("button");
  btn.innerText = "START JOURNEY";
  btn.onclick = () => {
    for(let i=0;i<5;i++){
      let val = document.getElementById("member"+i).value.toUpperCase() || `MEMBER${i+1}`;
      state.party.push(val);
    }
    buySupplies();
  };
  controlsDiv.appendChild(btn);
}

// Buy Supplies
function buySupplies(){
  gameDiv.innerText = "YOU HAVE $500 TO BUY SUPPLIES.\n\nPRICE LIST:\nFOOD: $0.5/lb  AMMO: $0.2/bullet  PARTS: $10  CLOTHES: $5\n";
  controlsDiv.innerHTML = "";

  let foodInp = document.createElement("input"); foodInp.placeholder="FOOD"; controlsDiv.appendChild(foodInp); controlsDiv.appendChild(document.createTextNode(" lbs")); controlsDiv.appendChild(document.createElement("br"));
  let ammoInp = document.createElement("input"); ammoInp.placeholder="AMMO"; controlsDiv.appendChild(ammoInp); controlsDiv.appendChild(document.createTextNode(" bullets")); controlsDiv.appendChild(document.createElement("br"));
  let partsInp = document.createElement("input"); partsInp.placeholder="PARTS"; controlsDiv.appendChild(partsInp); controlsDiv.appendChild(document.createElement("br"));
  let clothesInp = document.createElement("input"); clothesInp.placeholder="CLOTHES"; controlsDiv.appendChild(clothesInp); controlsDiv.appendChild(document.createElement("br"));

  let btn = document.createElement("button"); btn.innerText = "BUY SUPPLIES";
  btn.onclick = () => {
    let cost = parseInt(foodInp.value||0)*0.5 + parseInt(ammoInp.value||0)*0.2 + parseInt(partsInp.value||0)*10 + parseInt(clothesInp.value||0)*5;
    if(cost>500){ alert("NOT ENOUGH MONEY!"); return; }
    state.supplies.food = parseInt(foodInp.value||0);
    state.supplies.ammo = parseInt(ammoInp.value||0);
    state.supplies.parts = parseInt(partsInp.value||0);
    state.supplies.clothes = parseInt(clothesInp.value||0);
    state.log = "SUPPLIES BOUGHT. STARTING JOURNEY...";
    controlsDiv.innerHTML = "";
    nextDay();
  };
  controlsDiv.appendChild(btn);
}

// Render State
function renderState(){
  gameDiv.innerText =
`DAY: ${state.day}  MONTH: ${state.months[state.monthIndex]}
DISTANCE TRAVELED: ${state.distance} miles

SUPPLIES:
FOOD: ${state.supplies.food} lbs
AMMO: ${state.supplies.ammo} bullets
PARTS: ${state.supplies.parts}
CLOTHES: ${state.supplies.clothes}

PARTY: ${state.party.join(", ")}

${state.log}

`;
}

// Random Events
function randomEvent(){
  let r = Math.random();
  if(r<0.05){ state.log = "A PARTY MEMBER GOT SICK! FOOD DECREASED"; state.supplies.food = Math.max(0,state.supplies.food-20); }
  else if(r<0.1){ state.log = "WAGON BROKE! USED 1 PART"; state.supplies.parts = Math.max(0,state.supplies.parts-1);}
  else if(r<0.2){ state.log = "RIVER CROSSING SUCCESSFUL";}
  else if(r<0.3){ state.log = "HUNTING SUCCESSFUL, FOOD +50"; state.supplies.food += 50; }
  else{ state.log = "A QUIET DAY ON THE TRAIL.";}
}

// Travel Next Day
function nextDay(){
  state.day++;
  if(state.day>30){ // Simplified journey limit
    state.log = "YOU HAVE REACHED OREGON! GAME OVER.";
    renderState();
    controlsDiv.innerHTML = "";
    return;
  }
  state.distance += randomInt(10,25);
  randomEvent();
  renderState();
  controlsDiv.innerHTML = "";
  let btn = document.createElement("button");
  btn.innerText = "CONTINUE TO NEXT DAY";
  btn.onclick = nextDay;
  controlsDiv.appendChild(btn);
}

// Initialize
startGame();
</script>
</body>
</html>

